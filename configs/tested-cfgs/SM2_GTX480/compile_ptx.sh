#!/bin/bash

#gcc -D__CUDA_ARCH__=300 -E -x c++  -DCUDA_DOUBLE_MATH_FUNCTIONS -D__CUDACC__ -D__NVCC__  "-I/usr/local/cuda-9.1/bin/..//include"   -D"__CUDACC_VER_BUILD__=85" -D"__CUDACC_VER_MINOR__=1" -D"__CUDACC_VER_MAJOR__=9" -include "cuda_runtime.h" -m64 -g -gdwarf-2 "test_mpipdom_scoreboard.cu" > "/tmp/tmpxft_0000812a_00000000-8_test_mpipdom_scoreboard.cpp1.ii"
#/usr/local/cuda-9.1/nvvm/bin/cicc --gnu_version=50500 --allow_managed   -arch compute_30 -m64 -ftz=0 -prec_div=1 -prec_sqrt=1 -fmad=1 --include_file_name "tmpxft_0000812a_00000000-2_test_mpipdom_scoreboard.fatbin.c" -tused -nvvmir-library "/usr/local/cuda-9.1/bin/../nvvm/libdevice/libdevice.10.bc" -O0 --gen_module_id_file --module_id_file_name "/tmp/tmpxft_0000812a_00000000-3_test_mpipdom_scoreboard.module_id" --orig_src_file_name "test_mpipdom_scoreboard.cu" --gen_c_file_name "/tmp/tmpxft_0000812a_00000000-5_test_mpipdom_scoreboard.cudafe1.c" --stub_file_name "/tmp/tmpxft_0000812a_00000000-5_test_mpipdom_scoreboard.cudafe1.stub.c" --gen_device_file_name "/tmp/tmpxft_0000812a_00000000-5_test_mpipdom_scoreboard.cudafe1.gpu"  "/tmp/tmpxft_0000812a_00000000-8_test_mpipdom_scoreboard.cpp1.ii" -o "/tmp/tmpxft_0000812a_00000000-5_test_mpipdom_scoreboard.ptx"
ptxas -arch=sm_30 -m64 -O0  "./test_mpipdom_scoreboard.ptx"  -o "/tmp/tmpxft_0000812a_00000000-9_test_mpipdom_scoreboard.sm_30.cubin"
fatbinary --create="/tmp/tmpxft_0000812a_00000000-2_test_mpipdom_scoreboard.fatbin" -64 --cmdline="-O0  " "--image=profile=sm_30,file=/tmp/tmpxft_0000812a_00000000-9_test_mpipdom_scoreboard.sm_30.cubin" "--image=profile=compute_30,file=./test_mpipdom_scoreboard.ptx" --embedded-fatbin="/tmp/tmpxft_0000812a_00000000-2_test_mpipdom_scoreboard.fatbin.c" --cuda
#$ rm /tmp/tmpxft_0000812a_00000000-2_test_mpipdom_scoreboard.fatbin
gcc -E -x c++ -D__CUDACC__ -D__NVCC__  "-I/usr/local/cuda-9.1/bin/..//include"   -D"__CUDACC_VER_BUILD__=85" -D"__CUDACC_VER_MINOR__=1" -D"__CUDACC_VER_MAJOR__=9" -include "cuda_runtime.h" -m64 -g -gdwarf-2 "test_mpipdom_scoreboard.cu" > "/tmp/tmpxft_0000812a_00000000-4_test_mpipdom_scoreboard.cpp4.ii"
cudafe++ --gnu_version=50500 --allow_managed  --m64 --parse_templates --gen_c_file_name "/tmp/tmpxft_0000812a_00000000-5_test_mpipdom_scoreboard.cudafe1.cpp" --stub_file_name "tmpxft_0000812a_00000000-5_test_mpipdom_scoreboard.cudafe1.stub.c" --module_id_file_name "/tmp/tmpxft_0000812a_00000000-3_test_mpipdom_scoreboard.module_id" "/tmp/tmpxft_0000812a_00000000-4_test_mpipdom_scoreboard.cpp4.ii"
gcc -D__CUDA_ARCH__=300 -c -x c++  -DCUDA_DOUBLE_MATH_FUNCTIONS "-I/usr/local/cuda-9.1/bin/..//include"   -m64 -g -gdwarf-2 -o "/tmp/tmpxft_0000812a_00000000-10_test_mpipdom_scoreboard.o" "/tmp/tmpxft_0000812a_00000000-5_test_mpipdom_scoreboard.cudafe1.cpp"
nvlink --arch=sm_30 --register-link-binaries="/tmp/tmpxft_0000812a_00000000-6_a_dlink.reg.c"  -m64   "-L/usr/local/cuda-9.1/bin/..//lib64/stubs" "-L/usr/local/cuda-9.1/bin/..//lib64" -cpu-arch=X86_64 "/tmp/tmpxft_0000812a_00000000-10_test_mpipdom_scoreboard.o"  -o "/tmp/tmpxft_0000812a_00000000-11_a_dlink.sm_30.cubin"
fatbinary --create="/tmp/tmpxft_0000812a_00000000-7_a_dlink.fatbin" -64 --cmdline="-O0  " -link "--image=profile=sm_30,file=/tmp/tmpxft_0000812a_00000000-11_a_dlink.sm_30.cubin" --embedded-fatbin="/tmp/tmpxft_0000812a_00000000-7_a_dlink.fatbin.c"
#$ rm /tmp/tmpxft_0000812a_00000000-7_a_dlink.fatbin
gcc -c -x c++ -DFATBINFILE="\"/tmp/tmpxft_0000812a_00000000-7_a_dlink.fatbin.c\"" -DREGISTERLINKBINARYFILE="\"/tmp/tmpxft_0000812a_00000000-6_a_dlink.reg.c\"" -I. -D__NV_EXTRA_INITIALIZATION= -D__NV_EXTRA_FINALIZATION=  "-I/usr/local/cuda-9.1/bin/..//include"   -D"__CUDACC_VER_BUILD__=85" -D"__CUDACC_VER_MINOR__=1" -D"__CUDACC_VER_MAJOR__=9" -m64 -g -gdwarf-2 -o "/tmp/tmpxft_0000812a_00000000-12_a_dlink.o" "/usr/local/cuda-9.1/bin/crt/link.stub"
g++ -m64 -g -gdwarf-2 -o "test_mpipdom_scoreboard_modified" -Wl,--start-group "/tmp/tmpxft_0000812a_00000000-12_a_dlink.o" "/tmp/tmpxft_0000812a_00000000-10_test_mpipdom_scoreboard.o"   "-L/usr/local/cuda-9.1/bin/..//lib64/stubs" "-L/usr/local/cuda-9.1/bin/..//lib64" -lcudadevrt  -lcudart  -Wl,--end-group
